# 2021年1月

## 2021/01/04

* 阅读文献 Reduced transversality conditions in optimal space trajectories

* 航天动力学期末考试题试做、参考答案（简单过程描述）

## 2021/01/05

* 阅读文献 Learning-Based Onboard Guidance for Fuel-Optimal Powered Descent

* 阅读文献 Machine learning of optimal low-thrust transfers between near-earth objects

## 2021/01/06

* 航天动力学期末考试、批改试卷

## 2021/01/07

* 航天动力学批改试卷、汇总分数

## 2021/01/08

* 航天动力学批改试卷

	第四题答案修正，3个同学成绩改动

	整理A、B卷的参考答案

## 2021/01/11

* researcher、researchgate网站查找新发表的文献

* 后面在生成数据集时，注意要保留收敛解的协态初值，用机器学习预测协态初值，如果能够实现接近100%的收敛率，也可以用于全局优化。

* 生成数据集时，需要考虑**规模大小**，既要能够比较均匀地覆盖搜索范围，数据总量又不能太大，如果生成数据集所需时间和搜索过程中直接使用直接法/间接法类似，就失去了机器学习的意义。

* 因为转移轨道的初始位置和末端位置都是变化的，因此为了能够比较均匀地覆盖搜索范围，最好的方法是每次随机生成初始和末端的轨道根数，只要数量足够，就可以保证**覆盖程度和均匀性**。

	但这样生成数据集的计算量太大，更好的方法是利用前一次的计算结果作为初值，然后进行一个小摄动，逐渐远离初始位置，直至覆盖整个范围。

	但是由于转移轨道的初始位置和末端位置都是变化的，无法直接应用这种方法。

	随机选取一组初始轨道根数和末端轨道根数，用间接法求解，然后对末端6个轨道根数进行摄动，直至覆盖整个范围，是否可行？

	如果在摄动过程中，出现不收敛的情况，应该怎么办？如果在同伦过程中出现不收敛的情况，需要减小同伦步长，但这个过程需要人为参与，很难全自动实现。

	因此，对于星际转移问题，数据集的生成也是一个很关键的创新点。

* 中途飞越和中途引力辅助在全局规划过程中比较相似，前一段的末端状态不仅与访问序列和事件有关，而且会由于控制策略的不同导致前一段末端速度不同，进而影响下一段的轨迹优化。

	然而，中途交会时的状态仅与访问序列和事件有关，下一段的初始状态不会受到上一段控制策略的影响。

	因此，小推力多次引力辅助问题，和小推力多目标飞越问题有很大的相关性，例如petropoulus关于shape-based方法的文章。

* 能不能完全通过遗传算法等进化算法，替代集束搜索进行序列优化？

* 用虚拟天体生成10万条数据集之后，采用多种方法进行序列搜索，寻找最短时间访问10颗小行星的解

	目前计划使用的方法有：集束搜索、概率集束搜索、集束搜索-ACO、集束搜索-GA、蒙特卡洛树搜索、遗传算法、蚁群算法、TCO（张楠）

* 神经网络训练，计划使用自动调参工具，如NNI或AutoML

* 多目标函数优化

	考虑多个指标的加权和

	计算非支配解，但有时候由于不同指标看重程度不同，非支配解（边界点）不一定比内部点更好

## 2021/01/12

* 尝试使用esa开发的python程序包pykep

	可以求解简单的二体轨道递推和多圈Lambert问题，求解最优控制问题较为复杂，目前缺少非线性优化器。

* 阅读文献 Multi-rendezvous spacecraft trajectory optimization with beam P-ACO

	结果表征部分看不懂

* 学习数据结构和算法

## 2021/01/13

* 学习数据结构和算法

* 汇总间接法求解虚拟天体时间最优问题的数据集，不可能验证每一个结果，因此打算每隔500个选出一组数据进行计算，100000组数据需选出200组进行计算。

## 2021/01/14

* 更正数据集的一些错误，可能由于程序运行过程中查看文件导致。

* 采用虚拟天体生成的数据集，训练神经网络，根据出发小行星轨道根数、到达小行星轨道根数、初始质量预测最优转移时间

	[DNN](https://github.com/Lpyshmily/GTOC7/blob/main/DNN.md#20210114-1st-version)

	训练集中转移时间小于3的轨迹只有15条，远不能满足要求，因此需要分析什么样的轨道之间转移所需时间较小，要通过以下两种手段进行分析：

	* 分析数据集并从中获取信息，比如半长轴之差、偏心率大小、真近点角/真经度之差、轨道倾角，分析这些因素和转移时间之间的关系（敏感度分析/相关性分析）

	* 文献中是否有相关近似解析公式，我目前没有看到过

## 2021/01/15

* python列表或numpy的切片，有的会随着原列表/数组改变而改变，而有的不会

	* 仅有一层列表的切片操作不会随着原列表改变而改变

	* 多层列表或者所有numpy数组的切片都会随着原列表改变而改变

	具体内容见[DNN/test.py](https://github.com/Lpyshmily/GTOC7/blob/main/DNN/test.py)

	在此基础上，对[DNN/tools.py](https://github.com/Lpyshmily/GTOC7/blob/main/DNN/tools.py)中输入数据归一化函数`normalize()`进行了修改。

* 分析半长轴之差、偏心率大小、轨道倾角之差、真经度之差与最优转移时间之间的关系

	最优转移时间和真经度之差之间有较为明显的关系

	与其他量之间的关系较为模糊，可能的原因是转移时间较短的数据量太少（转移时间小于5的数据仅有19条），那如何才能生成大量转移时间较短的数据？

	变成了一个**鸡生蛋，蛋生鸡**的问题，除了增大随机猜测数量之外，还有没有其他办法？
    
    如果这个问题能解决，也是一个非常好的创新点

## 2021/01/28

* 数据结构和算法

	越复杂的结构，在进行相关操作时，需要人为参与的步骤就越多，操作越复杂