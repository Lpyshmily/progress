# 2021年3月

## 2021/03/01

* 应用DNN输出的神经网络模型参数，进行集束搜索

	输入变量的顺序是：初始质量、初始轨道春分点轨道根数、末端轨道春分点轨道根数。

	问题描述：初始质量2000kg，从任意一颗小行星出发，最短时间访问5颗小行星。

	参数设置：

	```c++
    bw = 10000; // 集束宽度
    bf = 100; // 每个结点拓展的子结点个数
    GoodNumber = 20; // 最终保留的较优序列个数
    ```

	运行时间：10433.5秒，约为2.9小时。

	运行结果：

	* 预测时间均大于实际时间，与神经网络训练结果相符

    * 实际排名与预测排名之间相关性比较差，实际排名前5名均位于预测排名5名以后，预测第1名实际仅为17名

    * **实际排名越靠前，总用时误差越大**

    总而言之，神经网络预测效果较差仍是最需要改进的问题。

    后面的计划是，用相同的神经网络+其他搜索算法，搜索序列

* 处理上周末生成的数据集

	加入剔除条件：初末轨道真经度之差>pi/2，角动量质量夹角余弦值<0.85

    增加输出信息：两组直角坐标位置速度

    使用服务器同时运行20个程序，共生成200000条数据。

    * 数据集分析

		旧的数据集（10万）中，转移时间小于5的有690条，转移时间小于3的有19条。

		新的数据集（20万）中，转移时间小于5的有2508条，转移时间小于3的有49条，相比之下转移时间短的数据所占比例增加，但增加幅度较小。

	* 轨道根数与最优转移时间之间的关系

		仍然只有`dL`、`cos_theta`和tof之间有较为明显的关系，`dh`角动量大小之差和tof之间的关系不够明显，其余各量几乎看不出与tof的相关性。

	* 训练神经网络，比较平均相对误差

		输入变量为：初始质量+直角坐标位置速度+dE+dh（海洋师兄论文中采用的），train_loss: 0.029079, valid_loss: 0.035159, test_loss: 0.035331

		输入变量为：初始质量+春分点轨道根数+dL+轨道面夹角余弦，train_loss: 0.018703, valid_loss: 0.023844, test_loss: 0.023458

		第二种输入变量效果更好，预计调参之后可以得到更好的效果。

		采用第二个神经网络进行分析：相对误差大于50%的数据仅有7条，仍然是预测值大于真实值。

* 学习其他序列优化算法（海洋师兄博士论文—）

	* 进化精英算法：蚁群算法+进化算法

	* 混合变量进化精英算法：将启发因子和信息素视为时间的函数，给出其计算方法和积分方法